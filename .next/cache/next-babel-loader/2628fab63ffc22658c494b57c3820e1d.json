{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    scriptTags(first: 5) {\\n      edges {\\n        node {\\n          id\\n          src\\n          displayScope\\n        }\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation scriptTagCreate($input: ScriptTagInput!) {\\n    scriptTagCreate(input: $input) {\\n      scriptTag {\\n        id\\n      }\\n      userErrors {\\n        field\\n        message\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport gql from \"graphql-tag\";\nimport { AiFillDelete } from \"react-icons/ai\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { Page, Layout, Card, Stack, Button, ResourceList, ResourceItem } from \"@shopify/polaris\";\nvar CREATE_SCRIPT_TAG = gql(_templateObject());\nvar Query_SCRIPTTAGS = gql(_templateObject2());\nvar DELETE_SCRIPTTAGS = gql(\"\\nmutation scriptTagDelete($id: ID!) {\\n  scriptTagDelete(id: $id) {\\n    deletedScriptTagId\\n    userErrors {\\n      field\\n      message\\n    }\\n  }\\n}\\n\");\n\nvar ScriptPage = function ScriptPage() {\n  var _useQuery = useQuery(Query_SCRIPTTAGS),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  var _useMutation = useMutation(CREATE_SCRIPT_TAG),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      createScripts = _useMutation2[0];\n\n  var _useMutation3 = useMutation(DELETE_SCRIPTTAGS),\n      _useMutation4 = _slicedToArray(_useMutation3, 1),\n      deleteScripts = _useMutation4[0];\n\n  if (loading) return __jsx(\"div\", null, \"loading....\");\n  if (error) return __jsx(\"div\", null, error.message);\n  console.log(data);\n  return __jsx(Page, null, __jsx(Layout, null, __jsx(Layout.Section, null, __jsx(Card, {\n    title: \"Script Page\",\n    sectioned: true\n  }, __jsx(\"p\", null, \"Create Script Tag\"))), __jsx(Layout.Section, null, __jsx(Card, {\n    sectioned: true\n  }, __jsx(Button, {\n    size: \"slim\",\n    primary: \"true\",\n    onClick: function onClick() {\n      createScripts({\n        variables: {\n          input: {\n            src: \"https://shopifyapp01.herokuapp.com/test-script.js\",\n            displayScope: \"ALL\"\n          }\n        },\n        refetchQueries: [{\n          query: Query_SCRIPTTAGS\n        }]\n      });\n    }\n  }, \"Create Tag\"))), __jsx(Layout.Section, null, __jsx(Card, {\n    sectioned: true\n  }, __jsx(ResourceList, {\n    resourceName: {\n      singular: 'Script',\n      plural: 'Scripts'\n    },\n    items: data.scriptTags.edges,\n    renderItem: function renderItem(item) {\n      return __jsx(ResourceItem, {\n        id: item.node.id\n      }, __jsx(Stack, null, __jsx(Stack.Item, null, __jsx(\"p\", null, item.node.id)), __jsx(Stack.Item, null, __jsx(Button, {\n        outline: true,\n        onClick: function onClick() {\n          deleteScripts({\n            variables: {\n              id: item.node.id\n            },\n            refetchQueries: [{\n              query: Query_SCRIPTTAGS\n            }]\n          });\n        }\n      }, \"Delete\"))));\n    }\n  })))));\n};\n\nexport default ScriptPage;","map":null,"metadata":{},"sourceType":"module"}